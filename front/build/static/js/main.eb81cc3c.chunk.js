(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(38)},18:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),u=n.n(o),c=(n(18),n(3)),i=function(e){return r.a.createElement(r.a.Fragment,null,e.persons.filter(function(t){return t.name.toLowerCase().includes(e.filtterer)}).map(function(t){return r.a.createElement("div",{key:t.name},t.name," ",t.number," ",r.a.createElement("button",{onClick:function(){e.remove(t)}},"Delete this"))}))},l=function(e){return r.a.createElement("form",{onSubmit:e.addName},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:e.newName,onChange:function(t){t.preventDefault(),e.setNewName(t.target.value)}})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:e.newNumber,onChange:function(t){t.preventDefault(),e.setNewNumber(t.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},s=function(e){return r.a.createElement("div",null,r.a.createElement("input",{value:e.filtterer,onChange:function(t){t.preventDefault(),e.setFiltterer(t.target.value)}}))},m=n(2),f=n.n(m),d=function(){return f.a.get("".concat("","/api/persons")).then(function(e){return e.data})},p=function(e){return f.a.post("".concat("","/api/persons"),e).then(function(e){return e.data})},v=function(e,t){return f.a.put("".concat("","/api/persons/").concat(t),e).then(function(e){return e.data})},h=function(e){return f.a.delete("".concat("","/api/persons/").concat(e)).then(function(e){return e.data})},E=function(e){return null===e.message?null:(console.log(e.message[0]),e.message[0].error?r.a.createElement("div",{className:"notification error"},e.message[0].text):r.a.createElement("div",{className:"notification succeed"},e.message[0].text))},w=function(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),o=n[0],u=n[1],m=Object(a.useState)(null),f=Object(c.a)(m,2),w=f[0],b=f[1];Object(a.useEffect)(function(){d().then(function(e){return u(e)})},[]);var g=Object(a.useState)(""),N=Object(c.a)(g,2),j=N[0],O=N[1],k=Object(a.useState)(""),x=Object(c.a)(k,2),S=x[0],T=x[1],y=Object(a.useState)(""),C=Object(c.a)(y,2),D=C[0],F=C[1],P=function(){d().then(function(e){return u(e)})};return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(E,{message:w}),r.a.createElement("h4",null," rajaa tuloksia "),r.a.createElement(s,{filtterer:D,setFiltterer:F}),r.a.createElement("h4",null," lis\xe4\xe4 uusi "),r.a.createElement(l,{addName:function(e){e.preventDefault();var t=[];if(o.map(function(e){return t.push(e.name)}),t.includes(j)){if(window.confirm(j+" on jo luettelossa, korvataanko vanha numero uudella")){var n={};o.map(function(e){e.name==j&&(n=e)}),n.number=S,v(n,n.id).then(function(e){P(),b([{text:"numero p\xe4ivitetty",error:!1}]),setTimeout(function(){b(null)},3e3)}).catch(function(e){b([{text:e.response.data.error,error:!0}]),setTimeout(function(){b(null)},3e3)})}}else p({name:j,number:S}).then(function(e){P(),b([{text:"lis\xe4ttiin "+j,error:!1}]),setTimeout(function(){b(null)},3e3)}).catch(function(e){console.log(e.response.data),b([{text:e.response.data.error,error:!0}]),setTimeout(function(){b(null)},3e3)})},newName:j,newNumber:S,setNewName:O,setNewNumber:T}),r.a.createElement("h2",null,"Puhelinnumerot"),r.a.createElement(i,{persons:o,filtterer:D,remove:function(e){window.confirm("Poistetaanko "+e.name)&&h(e.id).then(function(e){P(),b([{text:"numero poistettu",error:!1}]),setTimeout(function(){b(null)},3e3)}).catch(function(e){console.log(e),b([{text:e.response.data.error,error:!0}]),setTimeout(function(){b(null)},3e3)})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.eb81cc3c.chunk.js.map